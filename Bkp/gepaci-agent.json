{
  "name": "gepaci-agent",
  "nodes": [
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -4736,
        2192
      ],
      "id": "40e59ffe-cdea-48ef-8fff-ed020b5c23d1",
      "name": "OpenAI Chat Model1",
      "credentials": {
        "openAiApi": {
          "id": "qwsdKwRzOzG38VlV",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "content": "MCP Base de Conhecimento",
        "height": 1360,
        "width": 2608
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2912,
        1296
      ],
      "typeVersion": 1,
      "id": "a7b3fc32-8766-4b75-9b8c-fa40fc036330",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "Tools e Memory",
        "height": 352,
        "width": 736,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -4992,
        2096
      ],
      "typeVersion": 1,
      "id": "2fa857d3-7d41-405f-bb46-74847f26f2e4",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1HNAmTNpx4e15DZ-gvlbBQV_A8oaqwL5H_xUM6KSjyFM/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -1104,
        2080
      ],
      "id": "4a303c81-b06a-4c70-a9e7-46ee421f90dc",
      "name": "Parcerias",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1hdYI0yfeAwRmjj8uQlCoYZ_hSqzwjXtlNX7sJInSkHA/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -752,
        2080
      ],
      "id": "195d658c-9450-40e6-b320-4f5c9b32aa5b",
      "name": "Seguro de Vida",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1H-m8Vhblam5nDLuW4sKbOGNqnD0yMMP2obqv_E4Ab0o/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -1728,
        2080
      ],
      "id": "a6bcc1a4-7b76-41b6-87ef-e9874d6cd230",
      "name": "Folha de Pagamento",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.4
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -4848,
        2240
      ],
      "id": "4c63d046-1dc3-4c36-b55d-5c5201faca50",
      "name": "Google Gemini Chat Atendimento",
      "credentials": {
        "googlePalmApi": {
          "id": "pP9dCLnmvtSclqEs",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {
        "content": "Tools e Memory",
        "height": 1056,
        "width": 1216,
        "color": 7
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -4176,
        1296
      ],
      "typeVersion": 1,
      "id": "e31075c9-a96a-40ae-9d44-2126fef5dd07",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/10mk4v5ob161CAuhvGSupQ_p02Srk2E_vDbLKyQ7tRR8/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -2384,
        2064
      ],
      "id": "f60462bf-8d8b-4851-9e49-85fd8a8cfedf",
      "name": "Auxilio Creche",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1S3i3ga2An7MtcdvEJCN9lZdBa3KemYGSBxsA3YaE1H4/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -2688,
        2064
      ],
      "id": "0bcb07fe-e7ed-4503-97bb-240b8f4594e8",
      "name": "Admissao",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1q6jHdpIA5I7mQtpQeYgf6_HB_sLsxPNg5v2x3xYoX1I/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -2048,
        2064
      ],
      "id": "cede11f0-31da-4200-81af-97781438b5ad",
      "name": "Convenio Medico",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1aif4A-BsZ8wuv5T2bLKWG6iON5Nmvl8SZ6Z91pMfRBk/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -1408,
        2080
      ],
      "id": "7b036bf9-62f8-4dca-8a9c-a59fc23ec228",
      "name": "Frequencia",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "documentURL": "https://docs.google.com/document/d/1NeUZdzUBsGeMqcnU04ceGj-Z_93fkVE5DR5vx0jzkZM/edit?usp=sharing"
      },
      "type": "n8n-nodes-base.googleDocsTool",
      "typeVersion": 2,
      "position": [
        -416,
        2096
      ],
      "id": "cc57d982-82dd-4105-9f14-27929ef9d81d",
      "name": "Vale Transporte",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "nxZcafPim6Pfbvi0",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "path": "8ffcb6c1-c5d4-4c3c-b0f2-26e844222cd2"
      },
      "type": "@n8n/n8n-nodes-langchain.mcpTrigger",
      "typeVersion": 2,
      "position": [
        -1840,
        1312
      ],
      "id": "484b8062-5e3f-4108-bddd-8adfa60ed5e5",
      "name": "MCP Base de Conhecimento",
      "webhookId": "8ffcb6c1-c5d4-4c3c-b0f2-26e844222cd2",
      "alwaysOutputData": false,
      "notesInFlow": false
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.mensagemAtual }}",
        "needsFallback": true,
        "options": {
          "systemMessage": "**INSTRUÇÕES PARA COLETA DE IDENTIFICAÇAO DA AGENTE \"Gê\"**\n\nVocê é a **Gê**, atendente virtual do **Gepaci**. Sua função nessa etapa será somente solicitar, coletar e validar se a informação passada pelo usuário é uma matricula/RE (contendo 6 dígitos) ou um CPF (contendo no máximo 11 dígitos)\n\n\n### 1. **Estilo de Atendimento**\n\n* Seja sempre **educada**, **objetiva**, **compreensiva** e **empática**.\n* Mantenha um tom **humanizado e acolhedor**.\n* Faça **apenas uma pergunta por vez**. Nunca sobrecarregue o cliente com múltiplas perguntas simultâneas.\n* **Nunca utilize informações externas** as orientações desse script\n\n### 2. **Início da Conversa**\n\n1. Apresente-se de forma simpática como Gê, atendente virtual do Gepaci.\n2. Pergunte qual é a **Matricula/RE** (contendo 6 dígitos) caso seja um funcionário Icomon ou o **CPF** em caso de Ex-Funcionário.\n3. Valide se a informação passada possui o número de dígitos informado. Caso positivo, passe para o proximo nó.\n4. Se a informação passada não atender aos requisitos, solicite os dados novamente.\n\n⚠️ *Aguarde a resposta de cada pergunta antes de seguir para a próxima.*\n\n### 3. **Encerramento da Conversa**\n\nSe o colaborados não for localizado após duas tentativas ou se o mesmo informar que não é um funcionário ou ex-funcionário, finalize a conversa chamando o Agent Tool **AI Nao Localizado**\n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -3616,
        1328
      ],
      "id": "9b5b9938-9918-4017-88c2-de2419ba761a",
      "name": "Validar Usuario",
      "notesInFlow": false,
      "alwaysOutputData": false,
      "executeOnce": false
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Coletar Mensagem Atendimento').item.json.mensagemAtual }}",
        "needsFallback": true,
        "options": {
          "systemMessage": "=**INSTRUÇÕES GERAIS PARA O AGENTE \"Gê\"**\n\nVocê é a **Gê**, atendente virtual do **Gepaci**, especializada em fornecer informações sobre os processos de gestão de pessoas.\n\n### 1. **Estilo de Atendimento**\n\n* Seja sempre **educada**, **objetiva**, **compreensiva** e **empática**.\n* Chame o usuário apenas pelo primeiro nome, se necessário.\n* Mantenha um tom **humanizado e acolhedor**.\n* Faça **apenas uma pergunta por vez**. Nunca sobrecarregue o cliente com múltiplas perguntas simultâneas.\n* **Nunca utilize informações externas** ao conteúdo da **Tool MCP Client** aplicada na Tools.\n\n### 2. **Início da Conversa**\n\n1. Inicie a conversa chamando o usuário pela primeira parte do nome **{{ $json.nomeUsuario }}** pergunte em que pode ajudar.\n2. Nesse ponto você não precisa solicitar os dados do usuário. Todos eles já foram coletados no banco de dados e podem ser utilizados na conversa, caso necessário.\n\n⚠️ *Aguarde a resposta de cada pergunta antes de seguir para a próxima.*\n\n### 3. **Uso da Base de Conhecimento**\n\n* Utilize as respostas fornecidas pelo cliente para consultar a **Tool MCP Client**.\n* Com base nessas informações, apresente **soluções** relevantes os questionamentos ou dúvidas do usuário.\n* Você deve apresentar somente as informações relevantes a solicitação do cliente. Exemplo: \"Informação sobre Ingressos Cinemark\". Você deve somente as informações referentes a esse benefício.\n* Seja **objetiva**, mas mantenha o foco no que for útil e aplicável.\n* **Nunca ofereça nada fora da Tool MCP Client**.\n\n  > Caso o cliente solicite algo fora da base, **peça desculpas** e pergunte se deseja falar com um especialista.\n  > Se insistir, explique gentilmente a limitação e, se necessário, **encerre educadamente a conversa**.\n\n### 4. **Sobre o Funcionamento de Agentes de IA**\n\n* Se questionada sobre como funciona um Agentes de IA, explique que **você é um exemplo real**, treinado com informações do **Gepaci**, e capaz de atender de forma automatizada e inteligente.\n\n### 5. **Validação da Relevância**\n\nApós apresentar as soluções:\n\n1. Pergunte se as informações foram **úteis e se o usuário precisa de mais alguma ajuda**.\n\n   * Se **não**, pergunte o **motivo** e tente complementar com base na dúvida.\n   * Se **sim**, vá para o tópico **### 7**.\n\n### 6. **Cases de Sucesso**\n\n* Utilize os exemplos disponíveis na **Tool MCP Client**.\n* **Jamais divulgue nomes de clientes**, respeitando a **confidencialidade**.\n\n### 7. **Encerramento do Atendimento**\n\n* Agradeça e encerre o atendimento cordialmente.\n\n### 8. **Uso do Bloco `<Tool MCP Client>`**\n\nSempre que precisar fornecer informações, **consulte apenas este bloco**.\nSe a informação não estiver presente, **não invente**."
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -3696,
        2000
      ],
      "id": "e1b532fa-7904-4628-8811-7646feb74467",
      "name": "Atendimento",
      "notesInFlow": false,
      "alwaysOutputData": false,
      "executeOnce": false
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://localhost:5678/webhook/a97dd1d1-0b64-4a1f-a7db-7bf982ebd905",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "json.chatInput",
              "value": "={{ $json.inputIdentity }}"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          },
          "response": {
            "response": {
              "fullResponse": true
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -4688,
        1360
      ],
      "id": "3b0a593f-9580-44e3-ab78-ba0c7b143d1f",
      "name": "HTTP Request",
      "alwaysOutputData": false,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9efad99d-7bde-414c-af1a-637e4d123fb5",
              "name": "inputIdentity",
              "value": "={{ $('Webhook').item.json.body.message }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -4896,
        1360
      ],
      "id": "3757be33-58c2-44e9-89cf-daf00e101215",
      "name": "coletar identificador",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://localhost:5678/webhook/db-contas",
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "json.phoneNumber",
              "value": "={{ $('coletar dados da conversa').item.json.phoneNumber }}"
            }
          ]
        },
        "options": {
          "redirect": {
            "redirect": {}
          },
          "response": {
            "response": {
              "fullResponse": true
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -6144,
        1792
      ],
      "id": "ad0cb809-b5e2-454f-8471-4ee37459581e",
      "name": "Sql Agtesla",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9efad99d-7bde-414c-af1a-637e4d123fb5",
              "name": "dadosCliente.Nome",
              "value": "={{ $('Sql Agtesla').item.json.body.NOME_SCL }}",
              "type": "string"
            },
            {
              "id": "b4057371-72ff-4f0b-8cea-80002b90a3a2",
              "name": "dadosCliente.Re",
              "value": "={{ $('Sql Agtesla').item.json.body.RE_SCL }}",
              "type": "string"
            },
            {
              "id": "97d8db74-5db5-4924-b230-20718dc5805b",
              "name": "dadosCliente.Status",
              "value": "={{ $('Sql Agtesla').item.json.body.STATUS_SCL }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -6304,
        2064
      ],
      "id": "71050885-e723-48e3-ae04-e1096a503739",
      "name": "coletar dados usuario",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ec732077-a790-418b-a4f4-7fceeef216e2",
              "leftValue": "={{ $('Webhook').item.json.body.message }}",
              "rightValue": "^[0-9]{6}$",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            },
            {
              "id": "60536cd9-5339-4560-a516-39d523053786",
              "leftValue": "={{ $('Webhook').item.json.body.message }}",
              "rightValue": "^[0-9]{11}$",
              "operator": {
                "type": "string",
                "operation": "regex"
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5328,
        1520
      ],
      "id": "7179f4a3-c6d7-4b2d-9453-7536ff4740af",
      "name": "If"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "whatswebhook",
        "responseMode": "lastNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -6352,
        1328
      ],
      "id": "ecbd97c9-6a0c-4299-a9bd-24d0a9b403be",
      "name": "Webhook",
      "webhookId": "f64d0604-db70-4a3f-8315-9a9719001fb7"
    },
    {
      "parameters": {
        "endpointUrl": "http://localhost:5678/mcp/8ffcb6c1-c5d4-4c3c-b0f2-26e844222cd2",
        "serverTransport": "sse",
        "options": {
          "timeout": 60000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.mcpClientTool",
      "typeVersion": 1.2,
      "position": [
        -3504,
        2192
      ],
      "id": "f80dc6ab-678e-4b30-b20f-87a7376cc393",
      "name": "MCP Client"
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        -4448,
        2272
      ],
      "id": "c018d064-2d4b-4b7a-99fc-ee53098d251c",
      "name": "Think"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "https://docs.google.com/spreadsheets/d/1D8sj-baVT_5r23gWXNl68DinUOqsAlk1HvmahMWOiaQ/edit?usp=sharing",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list",
          "cachedResultName": "Página1",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1D8sj-baVT_5r23gWXNl68DinUOqsAlk1HvmahMWOiaQ/edit#gid=0"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "LINHA_GENESIS",
              "lookupValue": "={{ $('Tratar número').item.json.foneTratado }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [
        -6688,
        1824
      ],
      "id": "10f917e1-40ca-49a9-bee2-3188e6ba9aec",
      "name": "db_contas",
      "retryOnFail": false,
      "alwaysOutputData": true,
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "oGkyP5ZM4wZRLGva",
          "name": "Google Sheets account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "21b073af-b386-45de-bc4b-6cbf2e2aee20",
              "leftValue": "={{ $json.statusAtendimento }}",
              "rightValue": "=",
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "or"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5584,
        1536
      ],
      "id": "9d1a0ec7-fef9-4bff-9594-9848946a197e",
      "name": "If2",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b60e9583-6fe9-45ff-ac2f-aadaaa27c51f",
              "name": "session",
              "value": "={{ $('Webhook').item.json.body.session }}",
              "type": "string"
            },
            {
              "id": "1f37ee26-a963-497c-b693-a14afd0bdff1",
              "name": "chatId",
              "value": "={{ $('Webhook').item.json.body.chatId }}",
              "type": "string"
            },
            {
              "id": "01a74efd-5d4e-4869-b157-8611c12facf8",
              "name": "pushName",
              "value": "={{ $('Webhook').item.json.body.pushName }}",
              "type": "string"
            },
            {
              "id": "ee194e95-3390-43ba-8f4c-e5ad1054b4d6",
              "name": "payload_id",
              "value": "={{ $('Webhook').item.json.body.payload_id }}",
              "type": "string"
            },
            {
              "id": "36b91569-2721-46ab-b458-6c2c00c1f659",
              "name": "event",
              "value": "={{ $('Webhook').item.json.body.event }}",
              "type": "string"
            },
            {
              "id": "384c4862-3a8c-4c1f-a28f-2dad32b1fb75",
              "name": "fromMe",
              "value": "={{ $('Webhook').item.json.body.fromMe }}",
              "type": "string"
            },
            {
              "id": "6c3fee67-5a3e-4daf-b7e0-8a987bf24dc1",
              "name": "message",
              "value": "={{ $('Webhook').item.json.body.message }}",
              "type": "string"
            },
            {
              "id": "c06f028b-6543-451e-ab4c-ef99e6feea7d",
              "name": "phoneNumber",
              "value": "={{ $json.foneTratado }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -5968,
        1328
      ],
      "id": "750fa0eb-a0c4-4da4-a362-3ed97164cee5",
      "name": "coletar dados da conversa",
      "executeOnce": true
    },
    {
      "parameters": {
        "content": "Consultar Bando db_contas",
        "height": 592,
        "width": 784
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -6432,
        1728
      ],
      "typeVersion": 1,
      "id": "5cd25da4-09bc-4116-bd6f-963a11dbf552",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "21b073af-b386-45de-bc4b-6cbf2e2aee20",
              "leftValue": "={{ $json.body.ID }}",
              "rightValue": 200,
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -5936,
        1792
      ],
      "id": "c9608f56-efd1-47ea-86f2-f5b52e91cdd8",
      "name": "If3",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "jsCode": "\nconst whatsapp = $input.first().json.body.contacts[0].phones[0].phone;\nconst onlyPhone = whatsapp\n  .replace(/\\D/g, '')\n  .replace(/^55/, '');\nconst result = [\n  {\n    foneTratado: onlyPhone\n  }\n];\n\nreturn result;\n\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -6160,
        1328
      ],
      "id": "9e3d0f21-e7ac-492e-8e73-a7ae3d78080e",
      "name": "Tratar número",
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "content": "Inicio",
        "height": 400,
        "width": 784,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -6432,
        1296
      ],
      "typeVersion": 1,
      "id": "d2927ecb-c3f7-40fe-9915-3906effc2549",
      "name": "Sticky Note4"
    },
    {
      "parameters": {
        "content": "Consulta API Funcionarios",
        "height": 768,
        "width": 752
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -4992,
        1296
      ],
      "typeVersion": 1,
      "id": "8591d748-f5f6-4f94-8ca0-18a082f3f25a",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "statusAtendimento",
        "key": "={{ $json.session }}",
        "options": {
          "dotNotation": true
        }
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -6160,
        1536
      ],
      "id": "78c4add3-10ef-4cda-b7e2-d5700265fc22",
      "name": "Consultar Status",
      "alwaysOutputData": false,
      "notesInFlow": false,
      "executeOnce": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 120,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('Webhook').item.json.body.session }}",
        "value": "inicio_conversa",
        "expire": true,
        "ttl": 360
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -6352,
        1792
      ],
      "id": "4fe5985c-9038-4ceb-b921-bcfecd74588e",
      "name": "Setar Status Inicial",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "statusAtendimento",
        "key": "={{ $('coletar dados da conversa').item.json.session }}",
        "options": {
          "dotNotation": true
        }
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -5552,
        1856
      ],
      "id": "5a50d131-e9b7-465c-838b-3cb9888b2e76",
      "name": "Status direcionamento",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "08f1353f-0d65-46cd-9613-78a2304040d9",
                    "leftValue": "={{ $json.statusAtendimento }}",
                    "rightValue": "inicio_conversa",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "verificar_usuario"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "57b50e12-5a8c-4ef1-b842-05557744c30d",
                    "leftValue": "={{ $json.statusAtendimento }}",
                    "rightValue": "nao_localizado",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "=nao_localizado"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "f1eeb533-409f-409b-bebd-b35ca3bb6c54",
                    "leftValue": "={{ $json.statusAtendimento }}",
                    "rightValue": "atendimento",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "atendimento"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "3735b938-34a3-4117-9b89-561d09ee2e1b",
                    "leftValue": "={{ $json.statusAtendimento }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "notExists",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "finalizar"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        -5216,
        1744
      ],
      "id": "9ccbd7ff-f94a-4879-ad5f-08d77e1648c1",
      "name": "Gerenciar direcionamento"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Webhook').item.json.body.session }}_{{ $('Webhook').item.json.body.chatId }}",
        "sessionTTL": 1200,
        "contextWindowLength": 40
      },
      "type": "@n8n/n8n-nodes-langchain.memoryRedisChat",
      "typeVersion": 1.5,
      "position": [
        -4592,
        2288
      ],
      "id": "2386e3fa-d9f3-47e4-ac31-75e9209b4618",
      "name": "Redis Chat Memory",
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      }
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('Webhook').item.json.body.session }}_message",
        "value": "={{ $('Webhook').item.json.body.message }}",
        "expire": true,
        "ttl": 360
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -5952,
        1536
      ],
      "id": "078414d4-f3e0-4a50-9e4d-7144d0c0ba14",
      "name": "Mensagem atual",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "batchSize": 3,
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -3392,
        1744
      ],
      "id": "a79ee57d-b227-4c7b-94a5-698b3337b935",
      "name": "Loop Over Items"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "name": "Replace Me",
      "typeVersion": 1,
      "position": [
        -3136,
        1760
      ],
      "id": "93783152-e589-420d-9810-92e7649f54f6"
    },
    {
      "parameters": {
        "content": "Direcionamentos\n",
        "height": 1024,
        "width": 592,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -5616,
        1296
      ],
      "typeVersion": 1,
      "id": "1be5679c-c4bf-44a2-aebb-2b8a2396047b",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "341efbfa-c910-48de-8435-deda0b23ea41",
              "leftValue": "={{ $('HTTP Request').item.json.statusCode }}",
              "rightValue": 200,
              "operator": {
                "type": "number",
                "operation": "notEquals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        -4896,
        1584
      ],
      "id": "09cf7814-0982-474c-a9d8-f2cd90883d6b",
      "name": "If1"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('Webhook').item.json.body.session }}",
        "value": "nao_localizado",
        "expire": true,
        "ttl": 360
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -4688,
        1568
      ],
      "id": "b0508993-e6a3-4559-bed8-fbad3fca0953",
      "name": "Setar Status Nao Localizado",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('Webhook').item.json.body.session }}",
        "value": "atendimento",
        "expire": true,
        "ttl": 360
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -4688,
        1728
      ],
      "id": "96ca93b9-16be-4c0c-b6ac-8aa5c2ca7e20",
      "name": "Setar Status Atendimento",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $json.mensagemAtual }}",
        "needsFallback": true,
        "options": {
          "systemMessage": "**INSTRUÇÕES PARA COLABORADOR NÃO ENCONTRADO NA BASE**\n\nVocê é a **Gê**, atendente virtual do **Gepaci**. Sua função nessa etapa será para somente para orientar o usuário a entrar em contato com os canais de atendimento adequados.\n\n\n### 1. **Estilo de Atendimento**\n\n* Seja sempre **educada**, **objetiva**, **compreensiva** e **empática**.\n* Mantenha um tom **humanizado e acolhedor**.\n* Faça **apenas uma pergunta por vez**. Nunca sobrecarregue o cliente com múltiplas perguntas simultâneas.\n* **Nunca utilize informações externas** as orientações desse script\n\n### 2. **Início da Conversa**\n\n1. O atendimento já foi iniciado em outro momento e não foi possível localizar o colaborador com os dados informados.\n2. Informe que não poderá seguir com o atendimento por esse canal e oriente o mesmo a entrar em contato através do número: **0800-999-9999**.\n3. Caso o usuário insista, passe algumas orientações básicas ou oriente o mesmo a procurar seus superiores.\n\n⚠️ *Aguarde a resposta de cada pergunta antes de seguir para a próxima.*"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -3840,
        1584
      ],
      "id": "286a9f09-8d97-49f8-8943-173788b55c8a",
      "name": "Colaborador Não Encontrado",
      "notesInFlow": false,
      "alwaysOutputData": false,
      "executeOnce": false
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "mensagemAtual",
        "key": "={{ $('Webhook').item.json.body.session }}_message",
        "options": {
          "dotNotation": true
        }
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -4064,
        1376
      ],
      "id": "8407d0ab-34f7-4737-a1f8-4042bb304516",
      "name": "Coletar Mensagem Verificacao",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "mensagemAtual",
        "key": "={{ $('Webhook').item.json.body.session }}_message",
        "options": {
          "dotNotation": true
        }
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -4064,
        1584
      ],
      "id": "bea7aeb9-bd12-471c-ba23-5a73c6e8047f",
      "name": "Coletar Mensagem Nao Encontrado",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "mensagemAtual",
        "key": "={{ $('coletar dados da conversa').item.json.session }}_message",
        "options": {
          "dotNotation": false
        }
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -4096,
        2000
      ],
      "id": "9e78ba44-aec3-43d8-a0a1-4bbe151e00e9",
      "name": "Coletar Mensagem Atendimento",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('coletar dados da conversa').item.json.session }}",
        "value": "atendimento",
        "expire": true,
        "ttl": 360
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -5904,
        2064
      ],
      "id": "978039ab-1474-4d8a-830d-6dc2261f110a",
      "name": "Setar Status Atendimento1",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('coletar dados da conversa').item.json.session }}_nome",
        "value": "={{ $json.dadosCliente.Nome }}",
        "expire": true,
        "ttl": 1000
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -6096,
        2064
      ],
      "id": "7ae94eb8-a57f-47f7-aa92-6520f91e9b86",
      "name": "Setar Nome",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "86838aef-90b0-4708-9836-ddb8f266462f",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -6704,
        2928
      ],
      "id": "23290e99-fc09-48ed-aeef-88e00bde8969",
      "name": "Variáveis Redis",
      "webhookId": "86838aef-90b0-4708-9836-ddb8f266462f"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('Webhook').item.json.body.session }}_name",
        "value": "={{ $json.dadosCliente.Nome }}",
        "expire": true,
        "ttl": 1000
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -6000,
        2608
      ],
      "id": "8843e15f-56a6-4938-8d09-e755e1f28699",
      "name": "Setar Nome2",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        -6288,
        2592
      ],
      "id": "edb3b07f-f8d9-4a54-ae63-027fd4c44961",
      "name": "Loop Over Items1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -6672,
        2496
      ],
      "id": "b1713a14-c59e-4898-817f-26df3f3b8979",
      "name": "When clicking ‘Execute workflow’"
    },
    {
      "parameters": {
        "jsCode": "return [\n\t{\n\t\tjson: {\n\t\t\t\"nome\": \"Daniel\",\n\t\t}\n\t},\n\t{\n\t\tjson: {\n\t\t\t\"nome\": \"joe\",\n\t\t}\n\t}\n];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -6496,
        2592
      ],
      "id": "b00a7063-c868-4d0e-9714-8f2eba199345",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "operation": "getAll",
        "tableId": "VW_LINHAS_GENESIS_SCL",
        "returnAll": true
      },
      "type": "n8n-nodes-base.supabase",
      "typeVersion": 1,
      "position": [
        -6688,
        2016
      ],
      "id": "09e6b2fe-e845-46bb-b314-83632780fc27",
      "name": "Get many rows",
      "alwaysOutputData": true,
      "executeOnce": false,
      "retryOnFail": true,
      "maxTries": 2,
      "waitBetweenTries": 60,
      "credentials": {
        "supabaseApi": {
          "id": "UkhcVA2BMMEna2bC",
          "name": "Supabase account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "nomeUsuario",
        "key": "={{ $('coletar dados da conversa').item.json.session }}_nome",
        "options": {
          "dotNotation": false
        }
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -3888,
        2000
      ],
      "id": "6945b81f-27d5-4fdf-a00b-d32a57a80aa4",
      "name": "Coletar Nome Usuario",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "={{ $('coletar dados da conversa').item.json.session }}_nome",
        "value": "={{ $json.dadosCliente.Nome }}",
        "expire": true,
        "ttl": 1000
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        -4688,
        1888
      ],
      "id": "ea88d80d-b29e-4aad-bc0a-58b410e51c68",
      "name": "Setar Nome1",
      "alwaysOutputData": false,
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9efad99d-7bde-414c-af1a-637e4d123fb5",
              "name": "dadosCliente.Nome",
              "value": "={{ $json.body.body.nome }}",
              "type": "string"
            },
            {
              "id": "b4057371-72ff-4f0b-8cea-80002b90a3a2",
              "name": "dadosCliente.Re",
              "value": "={{ $('coletar identificador').item.json.inputIdentity }}",
              "type": "string"
            },
            {
              "id": "97d8db74-5db5-4924-b230-20718dc5805b",
              "name": "dadosCliente.Status",
              "value": "={{ $json.body.body.colaborador }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -4480,
        1360
      ],
      "id": "1159d4a5-0823-4159-88b9-792b78fbc1e5",
      "name": "coletar dados usuario1",
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -2880,
        1888
      ],
      "id": "8bde81d7-43be-4fb5-8b5b-ce274e5043ce",
      "name": "AI Admissao"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -2800,
        1760
      ],
      "id": "58d1f619-c2bb-4023-84d4-24d2e7e638e8",
      "name": "AI Atendimento"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gpt-4o-mini",
          "mode": "list",
          "cachedResultName": "gpt-4o-mini"
        },
        "options": {
          "temperature": 0.7
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.2,
      "position": [
        -1904,
        2944
      ],
      "id": "430bf94b-9a6f-484e-b39d-f0870a82fc30",
      "name": "OpenAI Chat Model",
      "credentials": {
        "openAiApi": {
          "id": "qwsdKwRzOzG38VlV",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "content": "Tools e Memory",
        "height": 352,
        "width": 672,
        "color": 6
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1952,
        2752
      ],
      "typeVersion": 1,
      "id": "75c6e061-f7e7-441f-8790-7ebc5a0f15bf",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "options": {
          "temperature": 0.4
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -1728,
        2832
      ],
      "id": "24b6c501-720e-4b83-a495-44893d063b62",
      "name": "Google Gemini Chat Atendimento1",
      "credentials": {
        "googlePalmApi": {
          "id": "pP9dCLnmvtSclqEs",
          "name": "Google Gemini(PaLM) Api account"
        }
      }
    },
    {
      "parameters": {},
      "type": "@n8n/n8n-nodes-langchain.toolThink",
      "typeVersion": 1.1,
      "position": [
        -1392,
        2848
      ],
      "id": "585284a6-6f36-4164-ad62-49ceaa162a80",
      "name": "Think1"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('Webhook').item.json.body.session }}_{{ $('Webhook').item.json.body.chatId }}",
        "sessionTTL": 1200,
        "contextWindowLength": 40
      },
      "type": "@n8n/n8n-nodes-langchain.memoryRedisChat",
      "typeVersion": 1.5,
      "position": [
        -1568,
        2944
      ],
      "id": "d5bb11b6-2be7-4946-8fc7-7269f1cbb417",
      "name": "Redis Chat Memory1",
      "credentials": {
        "redis": {
          "id": "xvle5IxvJpmMxMlw",
          "name": "Redis account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -2560,
        1888
      ],
      "id": "bc8a2269-62ea-4bb9-89d3-cd6661ca4a02",
      "name": "AI Auxilio Creche"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -2496,
        1760
      ],
      "id": "6a547904-9c64-488a-82ca-0fb6f6ddcc73",
      "name": "Call Auxilio Creche"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -2240,
        1888
      ],
      "id": "a8ab1229-e1f2-493e-b037-abca3478dc38",
      "name": "AI Convenio Medico"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -2160,
        1760
      ],
      "id": "282720a2-6d2d-413f-a0fa-168a0a035bc3",
      "name": "Call Convenio Medico"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -1920,
        1888
      ],
      "id": "0b9bb0a2-a296-421d-812d-56f951310e70",
      "name": "AI Folha Pagamento"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -1840,
        1760
      ],
      "id": "030c0a7e-4bdc-4ec0-b919-acf4d0707d07",
      "name": "Call Folha Pagamento"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -1600,
        1888
      ],
      "id": "91e2c9aa-2e96-478e-92a4-19f204be260c",
      "name": "AI Frequencia"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -1536,
        1760
      ],
      "id": "680d149c-68a9-464d-b46b-d0d6f9df367a",
      "name": "AI Frequencia1"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -1280,
        1888
      ],
      "id": "05681934-8e58-4bbc-8e00-aba244113411",
      "name": "AI Parcerias Beneficios"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -1216,
        1760
      ],
      "id": "16bb9497-9e7f-41eb-a3a5-30815552e0d1",
      "name": "Call Parcerias Beneficios"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -944,
        1888
      ],
      "id": "f20d0b86-c3e1-4f41-ad42-3ea65b8d8b68",
      "name": "AI Seguro Vida"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -880,
        1760
      ],
      "id": "8f725384-ce9e-4bb9-855c-afc0c3fbb795",
      "name": "Call Seguro Vida"
    },
    {
      "parameters": {
        "promptType": "define",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3,
      "position": [
        -624,
        1888
      ],
      "id": "c03b4218-a96d-4d55-96b6-5c6a4dfbf8f5",
      "name": "AI Vale Transporte"
    },
    {
      "parameters": {
        "workflowId": {
          "__rl": true,
          "value": "p1hfguearSVeknq0",
          "mode": "list",
          "cachedResultUrl": "/workflow/p1hfguearSVeknq0",
          "cachedResultName": "gepaci-agent"
        },
        "workflowInputs": {
          "mappingMode": "defineBelow",
          "value": {},
          "matchingColumns": [],
          "schema": [],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        }
      },
      "type": "@n8n/n8n-nodes-langchain.toolWorkflow",
      "typeVersion": 2.2,
      "position": [
        -560,
        1760
      ],
      "id": "f6432e05-c56f-437a-9855-e7fffc363ccd",
      "name": "Call Vale Transporte"
    },
    {
      "parameters": {
        "text": "**INSTRUÇÕES PARA NÃO ENCONTRADO NA BASE OU NÃO FUNCIONÁRIO**\n\nVocê é a **Gê**, atendente virtual do **Gepaci**. Sua função nessa etapa será para somente para orientar o usuário a entrar em contato com os canais de atendimento adequados.\n\n\n### 1. **Estilo de Atendimento**\n\n* Seja sempre **educada**, **objetiva**, **compreensiva** e **empática**.\n* Mantenha um tom **humanizado e acolhedor**.\n* Faça **apenas uma pergunta por vez**. Nunca sobrecarregue o cliente com múltiplas perguntas simultâneas.\n* **Nunca utilize informações externas** as orientações desse script\n\n### 2. **Início da Conversa**\n\n1. O atendimento já foi iniciado em outro momento e não foi possível localizar o colaborador com os dados informados.\n2. Você receberá direcionamento de usuários que não foram localizados na base ou de pessoas que nunca trabalharam na empresa.\n3. Para pessoas que não trabalham e nunca trabalharam na Icomon, informe que esse canal é exclusivo para funcionários e ex-funcionarios e encerre o atendimento de forma amigavel.\n4. Para funcionários que não foram localizados, informe que não poderá seguir com o atendimento por esse canal e oriente o mesmo a entrar em contato através do número: **0800-999-9999**.\n5. Após passar essas informações você pode se despedir e encerrar o atendimento.",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agentTool",
      "typeVersion": 2.2,
      "position": [
        -3312,
        1520
      ],
      "id": "b454a106-9289-4e88-926a-bf32c939dcb5",
      "name": "AI Nao Localizado"
    }
  ],
  "pinData": {},
  "connections": {
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "Validar Usuario",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Atendimento",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "Colaborador Não Encontrado",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Nao Localizado",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Parcerias": {
      "ai_tool": [
        [
          {
            "node": "AI Parcerias Beneficios",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Seguro de Vida": {
      "ai_tool": [
        [
          {
            "node": "AI Seguro Vida",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Folha de Pagamento": {
      "ai_tool": [
        [
          {
            "node": "AI Folha Pagamento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Auxilio Creche": {
      "ai_tool": [
        [
          {
            "node": "AI Auxilio Creche",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Admissao": {
      "ai_tool": [
        [
          {
            "node": "AI Admissao",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Convenio Medico": {
      "ai_tool": [
        [
          {
            "node": "AI Convenio Medico",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Frequencia": {
      "ai_tool": [
        [
          {
            "node": "AI Frequencia",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Vale Transporte": {
      "ai_tool": [
        [
          {
            "node": "AI Vale Transporte",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "coletar identificador": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "coletar dados usuario1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "coletar dados usuario": {
      "main": [
        [
          {
            "node": "Setar Nome",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "coletar identificador",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Coletar Mensagem Verificacao",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Tratar número",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "MCP Client": {
      "ai_tool": [
        [
          {
            "node": "Atendimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Think": {
      "ai_tool": [
        [
          {
            "node": "Colaborador Não Encontrado",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "Atendimento",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "Validar Usuario",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Nao Localizado",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "db_contas": {
      "main": [
        [],
        []
      ]
    },
    "If2": {
      "main": [
        [
          {
            "node": "Setar Status Inicial",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Status direcionamento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "coletar dados da conversa": {
      "main": [
        [
          {
            "node": "Consultar Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If3": {
      "main": [
        [
          {
            "node": "Status direcionamento",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "coletar dados usuario",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Tratar número": {
      "main": [
        [
          {
            "node": "coletar dados da conversa",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Consultar Status": {
      "main": [
        [
          {
            "node": "Mensagem atual",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Status Inicial": {
      "main": [
        [
          {
            "node": "Sql Agtesla",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Status direcionamento": {
      "main": [
        [
          {
            "node": "Gerenciar direcionamento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Gerenciar direcionamento": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Coletar Mensagem Nao Encontrado",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Coletar Mensagem Atendimento",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Redis Chat Memory": {
      "ai_memory": [
        [
          {
            "node": "Atendimento",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "Validar Usuario",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "Colaborador Não Encontrado",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Nao Localizado",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Mensagem atual": {
      "main": [
        [
          {
            "node": "If2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Atendimento": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "Replace Me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Replace Me": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Validar Usuario": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If1": {
      "main": [
        [
          {
            "node": "Setar Status Nao Localizado",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Setar Status Atendimento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Colaborador Não Encontrado": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Coletar Mensagem Verificacao": {
      "main": [
        [
          {
            "node": "Validar Usuario",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Coletar Mensagem Nao Encontrado": {
      "main": [
        [
          {
            "node": "Colaborador Não Encontrado",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Coletar Mensagem Atendimento": {
      "main": [
        [
          {
            "node": "Coletar Nome Usuario",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Status Atendimento": {
      "main": [
        [
          {
            "node": "Setar Nome1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Status Nao Localizado": {
      "main": [
        [
          {
            "node": "Gerenciar direcionamento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Status Atendimento1": {
      "main": [
        [
          {
            "node": "Status direcionamento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Nome": {
      "main": [
        [
          {
            "node": "Setar Status Atendimento1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items1": {
      "main": [
        [],
        [
          {
            "node": "Setar Nome2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Nome2": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Variáveis Redis": {
      "main": [
        []
      ]
    },
    "When clicking ‘Execute workflow’": {
      "main": [
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Loop Over Items1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Atendimento": {
      "ai_languageModel": [
        [
          {
            "node": "Validar Usuario",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "Colaborador Não Encontrado",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "Atendimento",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Nao Localizado",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Get many rows": {
      "main": [
        []
      ]
    },
    "Sql Agtesla": {
      "main": [
        [
          {
            "node": "If3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Coletar Nome Usuario": {
      "main": [
        [
          {
            "node": "Atendimento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Setar Nome1": {
      "main": [
        [
          {
            "node": "Status direcionamento",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "coletar dados usuario1": {
      "main": [
        [
          {
            "node": "If1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Atendimento": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Think1": {
      "ai_tool": [
        [
          {
            "node": "AI Admissao",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Auxilio Creche",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Convenio Medico",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Folha Pagamento",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Frequencia",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Parcerias Beneficios",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Seguro Vida",
            "type": "ai_tool",
            "index": 0
          },
          {
            "node": "AI Vale Transporte",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Redis Chat Memory1": {
      "ai_memory": [
        [
          {
            "node": "AI Admissao",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Auxilio Creche",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Convenio Medico",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Folha Pagamento",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Frequencia",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Parcerias Beneficios",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Seguro Vida",
            "type": "ai_memory",
            "index": 0
          },
          {
            "node": "AI Vale Transporte",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Admissao",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Auxilio Creche",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Convenio Medico",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Folha Pagamento",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Frequencia",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Parcerias Beneficios",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Seguro Vida",
            "type": "ai_languageModel",
            "index": 0
          },
          {
            "node": "AI Vale Transporte",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Atendimento1": {
      "ai_languageModel": [
        [
          {
            "node": "AI Admissao",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Auxilio Creche",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Convenio Medico",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Folha Pagamento",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Frequencia",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Parcerias Beneficios",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Seguro Vida",
            "type": "ai_languageModel",
            "index": 1
          },
          {
            "node": "AI Vale Transporte",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "Call Auxilio Creche": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Call Convenio Medico": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Call Folha Pagamento": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Frequencia1": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Call Parcerias Beneficios": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Call Seguro Vida": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Call Vale Transporte": {
      "ai_tool": [
        [
          {
            "node": "MCP Base de Conhecimento",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "AI Nao Localizado": {
      "ai_tool": [
        [
          {
            "node": "Validar Usuario",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "callerPolicy": "workflowsFromSameOwner",
    "executionTimeout": 1800,
    "availableInMCP": false
  },
  "versionId": "d76e9c87-7d06-4310-9b9e-45b8242646a7",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "7e7e3575d283f24699fc69f563d93b46080b8f3323aee0041bb6ecefcd574587"
  },
  "id": "p1hfguearSVeknq0",
  "tags": [
    {
      "updatedAt": "2025-11-11T11:48:17.552Z",
      "createdAt": "2025-11-11T11:48:17.552Z",
      "id": "MfOECdK206BnqUwl",
      "name": "agentic-ai"
    },
    {
      "updatedAt": "2025-11-07T19:12:16.759Z",
      "createdAt": "2025-11-07T19:12:16.759Z",
      "id": "pocTCRRdzE8XiHFb",
      "name": "mcp"
    },
    {
      "updatedAt": "2025-11-12T23:24:36.398Z",
      "createdAt": "2025-11-12T23:24:36.398Z",
      "id": "rfhp8ebJb8G77U7n",
      "name": "test"
    }
  ]
}